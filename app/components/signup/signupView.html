<head>
    <meta charset="UTF-8">
</head>
<div ng-app="oonozApp" xmlns="http://www.w3.org/1999/xhtml">
    <form name="signupForm" ng-submit="submit()">

        <fieldset class="form-group">
            <label for="username">Nom d'utilisateur :</label>
            <input type="text" name="username" id="username" ng-model="username" class="form-control"
                   placeholder="Nom d'utilisateur"
                   ng-minlength="4" ng-maxlength="20" ng-pattern="/^[A-z][a-zA-Z0-9À-ÿ]*$/" required>
            <span ng-show="signupForm.username.$error.required && signupForm.username.$dirty">Champ obligatoire</span>
            <span ng-show="!signupForm.username.$error.minLength && !signupForm.username.$error.maxLength &&
                signupForm.username.$error.pattern && signupForm.username.$dirty">Doit commencer par une lettre et contenir uniquement des lettres et chiffres</span>
            <span ng-show="!signupForm.username.$error.required
                && (signupForm.username.$error.minlength || signupForm.username.$error.maxlength)
                && signupForm.username.$dirty"> L'identifiant doit contenir 4 à 20 caractères.</span>
        </fieldset>

        <br/>

        <fieldset class="form-group">
            <label for="firstName">Prénom :</label>
            <input type="text" name="firstName" id="firstName" ng-model="firstName" class="form-control"
                   placeholder="Prénom"
                   ng-minlength="3" ng-maxlength="40" required>
            <span ng-show="signupForm.firstName.$error.required && signupForm.firstName.$dirty">Champ obligatoire</span>
            <span ng-show="!signupForm.firstName.$error.required
                && (signupForm.firstName.$error.minlength || signupForm.firstName.$error.maxlength)
                && signupForm.firstName.$dirty"> Le prénom doit contenir 3 à 40 caractères.</span>
        </fieldset>

        <br/>

        <fieldset class="form-group">
            <label for="lastName">Nom :</label>
            <input type="text" name="lastName" id="lastName" ng-model="lastName" class="form-control"
                   placeholder="Nom"
                   ng-minlength="3" ng-maxlength="40" required>
            <span ng-show="signupForm.lastName.$error.required && signupForm.lastName.$dirty">Champ obligatoire</span>
            <span ng-show="!signupForm.lastName.$error.required
                && (signupForm.lastName.$error.minlength || signupForm.lastName.$error.maxlength)
                && signupForm.lastName.$dirty"> Le nom doit contenir 3 à 40 caractères.</span>
        </fieldset>

        <br/>

        <fieldset class="form-group">
            <label for="mail">Adresse e-mail :</label>
            <input type="email" name="mail" id="mail" ng-model="mail" class="form-control"
                   placeholder="Email"
                   required>
            <span ng-show="signupForm.mail.$error.required && signupForm.mail.$dirty">Champ obligatoire</span>
            <span ng-show="!signupForm.mail.$error.required && signupForm.mail.$error.mail && signupForm.mail.$dirty">Adresse mail invalide</span>
        </fieldset>

        <br/>

        <fieldset class="form-group">
            <label for="password">Mot de passe :</label>
            <input type="password" name="password" id="password" ng-model="password" class="form-control"
                   placeholder="Mot de passe"
                   ng-minlength="8" ng-maxlength="40"
                   ng-pattern="/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/" required>
            <span ng-show="signupForm.password.$error.required && signupForm.password.$dirty">Champ obligatoire</span>
                <span ng-show="!signupForm.password.$error.minLength && !signupForm.password.$error.maxLength &&
                signupForm.password.$error.pattern && signupForm.password.$dirty">Le mot de passe doit être formé d'au moins une majuscule, une minuscule, et au moins 1 chiffre ou caractère spécial</span>
                <span ng-show="!signupForm.password.$error.required
                && (signupForm.password.$error.minlength || signupForm.password.$error.maxlength)
                && signupForm.password.$dirty"> Le mot de passe doit contenir 8 à 40 caractères.</span>
        </fieldset>

        <br/>

        <fieldset class="form-group">
            <label for="passwordConfirmation">Confirmation de mot de passe :</label>
            <input type="password" name="passwordConfirmation" id="passwordConfirmation" ng-model="passwordConfirmation"
                   class="form-control"
                   placeholder="Confirmation de mot de passe"
                   ng-minlength="8" ng-maxlength="40"
                   ng-pattern="/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/" required>
            <span ng-show="signupForm.passwordConfirmation.$error.required && signupForm.passwordConfirmation.$dirty">Champ obligatoire</span>
            <!--<span ng-show="signupForm.passwordConfirmation.$error.compareTo">Doit être identique au mot de passe</span>-->
        </fieldset>

        <br/>

        <fieldset class="form-group">
            <label for="birthDate">Date de naissance :</label>
            <input type="date" name="birthDate" id="birthDate" ng-model="birthDate" class="form-control"
                   placeholder="Date de naissance"
                   required>
            <span ng-show="signupForm.birthDate.$error.required && signupForm.birthDate.$dirty">Champ obligatoire</span>
        </fieldset>

        <br/>

        <fieldset class="form-group">
            <label for="wannaBeSupplier">Je veux devenir fournisseur ?</label>
            <input type="checkbox" name="wannaBeSupplier" id="wannaBeSupplier" ng-model="wannaBeSupplier">
        </fieldset>

        <div ng-show="wannaBeSupplier">
            <br>
            <label>
                <input type="radio" name="typeAccount" ng-model="typeAccount"
                       value="personal">Particulier
            </label>
            <label>
                <input type="radio" name="typeAccount" ng-model="typeAccount"
                       value="professional">Professionnel
            </label>
        </div>

        <div ng-show="typeAccount == 'professional' && wannaBeSupplier">

            <br/>

            <fieldset class="form-group">
                <label for="companyName">Nom de l'entreprise :</label>
                <input type="text" name="companyName" id="companyName" ng-model="companyName" class="form-control"
                       placeholder="Nom de l'entreprise"
                       ng-required="typeAccount == 'professional' && wannaBeSupplier">
                <span ng-show="signupForm.companyName.$error.required && signupForm.companyName.$dirty">Champ obligatoire</span>
            </fieldset>

            <br/>

            <fieldset class="form-group">
                <label for="companyAddress">Adresse de l'entreprise :</label>
                <input type="text" name="companyAddress" id="companyAddress" ng-model="companyAddress"
                       class="form-control"
                       placeholder="Adresse de l'entreprise"
                       ng-required="typeAccount == 'professional' && wannaBeSupplier">
                <span ng-show="signupForm.companyAddress.$error.required && signupForm.companyAddress.$dirty">Champ obligatoire</span>
            </fieldset>

            <br/>

            <fieldset class="form-group">
                <label for="companySIRET">Numéro de SIRET :</label>
                <input type="number" name="companySIRET" id="companySIRET" ng-model="companySIRET" class="form-control"
                       placeholder="Numéro de SIRET"
                       ng-required="typeAccount == 'professional' && wannaBeSupplier">
                <span ng-show="signupForm.companySIRET.$error.required && signupForm.companySIRET.$dirty">Champ obligatoire</span>
            </fieldset>

        </div>

        <br/>

        <button type="submit" value="S'inscrire">S'inscrire</button>
        <br/><br/>
        Déjà un compte ? </span><a href="#/login">Se connecter</a>
    </form>
</div>
